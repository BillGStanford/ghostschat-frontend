{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natol\\\\OneDrive\\\\Desktop\\\\ghostschat\\\\ghostschat-frontend\\\\src\\\\pages\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Ghost, Users, Copy, Settings, Phone, PhoneOff, Image, Send, Share2, QrCode, Crown, Shield, Eye, Minimize2, Maximize2, Volume2, VolumeX } from 'lucide-react';\n\n// Mock components for demo\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Message = ({\n  message,\n  currentTheme,\n  isAdmin,\n  isSeniorMod,\n  isModerator,\n  deleteMessage\n}) => {\n  var _message$username;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 rounded-2xl ${currentTheme.messageBg} backdrop-blur-sm border ${currentTheme.border} hover:shadow-lg transition-all duration-300`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-white text-sm font-bold\",\n          children: ((_message$username = message.username) === null || _message$username === void 0 ? void 0 : _message$username[0]) || 'U'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `font-medium ${currentTheme.textPrimary}`,\n        children: message.username || 'Anonymous'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `text-xs ${currentTheme.textSecondary}`,\n        children: new Date(message.timestamp).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${currentTheme.textPrimary} leading-relaxed`,\n      children: message.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 3\n  }, this);\n};\n_c = Message;\nconst UserList = ({\n  users,\n  isAdmin,\n  isSeniorMod,\n  isModerator,\n  roomId,\n  socket,\n  currentTheme,\n  resetState\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `w-80 ${currentTheme.card} border-l ${currentTheme.border} p-6 overflow-y-auto`,\n  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n    className: `text-lg font-bold ${currentTheme.textPrimary} mb-4 flex items-center space-x-2`,\n    children: [/*#__PURE__*/_jsxDEV(Users, {\n      className: \"w-5 h-5 text-purple-400\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Spirits (\", users.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-3\",\n    children: users.map((user, index) => {\n      var _user$username;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-3 rounded-xl ${currentTheme.buttonSecondary} hover:${currentTheme.hover} transition-all duration-300`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white font-bold\",\n              children: ((_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username[0]) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${currentTheme.textPrimary}`,\n                children: user.username || 'Anonymous'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 17\n              }, this), user.isAdmin && /*#__PURE__*/_jsxDEV(Crown, {\n                className: \"w-4 h-4 text-yellow-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 34\n              }, this), user.isSeniorMod && /*#__PURE__*/_jsxDEV(Shield, {\n                className: \"w-4 h-4 text-blue-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 38\n              }, this), user.isModerator && /*#__PURE__*/_jsxDEV(Eye, {\n                className: \"w-4 h-4 text-green-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-green-400 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs ${currentTheme.textSecondary}`,\n                children: \"Online\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 3\n}, this);\n_c2 = UserList;\nconst SettingsModal = ({\n  showSettings,\n  setShowSettings,\n  users,\n  isAdmin,\n  isSeniorMod,\n  roomSettings,\n  setRoomSettings,\n  socket,\n  roomId,\n  currentTheme,\n  resetState\n}) => {\n  if (!showSettings) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${currentTheme.card} rounded-3xl p-8 max-w-md w-full border ${currentTheme.border} shadow-2xl`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-bold ${currentTheme.textPrimary} mb-6`,\n        children: \"Realm Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `block text-sm font-medium ${currentTheme.textPrimary} mb-2`,\n            children: \"Message Cooldown (seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: roomSettings.cooldown,\n            onChange: e => setRoomSettings({\n              ...roomSettings,\n              cooldown: parseInt(e.target.value)\n            }),\n            className: `w-full ${currentTheme.input} rounded-xl p-3 border focus:ring-2 focus:ring-purple-500`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm font-medium ${currentTheme.textPrimary}`,\n            children: \"Allow Links\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRoomSettings({\n              ...roomSettings,\n              allowLinks: !roomSettings.allowLinks\n            }),\n            className: `w-12 h-6 rounded-full transition-colors ${roomSettings.allowLinks ? 'bg-purple-500' : 'bg-gray-600'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-5 h-5 rounded-full bg-white transition-transform ${roomSettings.allowLinks ? 'translate-x-6' : 'translate-x-0.5'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowSettings(false),\n          className: `flex-1 ${currentTheme.buttonSecondary} rounded-xl py-3 font-medium transition-all duration-300`,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            socket.emit('updateRoomSettings', {\n              roomId,\n              settings: roomSettings\n            });\n            setShowSettings(false);\n          },\n          className: `flex-1 ${currentTheme.button} rounded-xl py-3 font-medium transition-all duration-300`,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_c3 = SettingsModal;\nconst QRCodeModal = ({\n  showQRCode,\n  setShowQRCode,\n  roomId,\n  currentTheme\n}) => {\n  if (!showQRCode) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${currentTheme.card} rounded-3xl p-8 max-w-sm w-full border ${currentTheme.border} shadow-2xl text-center`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl font-bold ${currentTheme.textPrimary} mb-6`,\n        children: \"Share Realm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-48 h-48 bg-white rounded-2xl mx-auto mb-6 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(QrCode, {\n          className: \"w-32 h-32 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-sm ${currentTheme.textSecondary} mb-6`,\n        children: \"Scan this QR code to join the realm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowQRCode(false),\n        className: `w-full ${currentTheme.button} rounded-xl py-3 font-medium transition-all duration-300`,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_c4 = QRCodeModal;\nconst CallRoom = ({\n  socket,\n  roomId,\n  username,\n  users,\n  callState,\n  onMinimize\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex-1 bg-gradient-to-br from-purple-900/20 to-pink-900/20 p-6 flex flex-col\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-white\",\n      children: \"Voice Call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onMinimize,\n      className: \"p-2 bg-white/10 rounded-xl hover:bg-white/20 transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(Minimize2, {\n        className: \"w-5 h-5 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",\n    children: callState.participants.map((participant, index) => {\n      var _participant$username;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-black/30 rounded-2xl p-4 flex flex-col items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-white text-xl font-bold\",\n            children: ((_participant$username = participant.username) === null || _participant$username === void 0 ? void 0 : _participant$username[0]) || 'U'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-white font-medium\",\n          children: participant.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(Volume2, {\n            className: \"w-4 h-4 text-green-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1\",\n            children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-1 h-3 bg-green-400 rounded-full animate-pulse\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center space-x-4 mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"p-4 bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(Volume2, {\n        className: \"w-6 h-6 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"p-4 bg-red-500 rounded-full hover:bg-red-600 transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(PhoneOff, {\n        className: \"w-6 h-6 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 128,\n  columnNumber: 3\n}, this);\n_c5 = CallRoom;\nconst THEMES = {\n  default: {\n    bg: 'bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900',\n    card: 'bg-slate-800/50 backdrop-blur-md',\n    messageBg: 'bg-slate-800/30',\n    button: 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white',\n    buttonSecondary: 'bg-slate-700/50 hover:bg-slate-700 text-slate-200',\n    input: 'bg-slate-800/50 border-slate-600 text-slate-100 placeholder-slate-400',\n    textPrimary: 'text-slate-100',\n    textSecondary: 'text-slate-400',\n    border: 'border-slate-700',\n    hover: 'hover:bg-slate-700/50'\n  }\n};\nconst Chat = ({\n  socket,\n  username,\n  roomId,\n  roomName,\n  messages,\n  setMessages,\n  users,\n  setUsers,\n  isAdmin,\n  setIsAdmin,\n  isSeniorMod,\n  setIsSeniorMod,\n  isModerator,\n  setIsModerator,\n  roomSettings,\n  setRoomSettings,\n  bannedUsers,\n  setBannedUsers,\n  userJoinTime,\n  setCurrentView,\n  callState,\n  setCallState,\n  encrypt,\n  resetState\n}) => {\n  _s();\n  var _callState$participan;\n  const [message, setMessage] = useState('');\n  const [showSettings, setShowSettings] = useState(false);\n  const [showQRCode, setShowQRCode] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  const [joinCooldown, setJoinCooldown] = useState(0);\n  const [isInCall, setIsInCall] = useState(false);\n  const [isCallMinimized, setIsCallMinimized] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const currentTheme = THEMES[roomSettings === null || roomSettings === void 0 ? void 0 : roomSettings.theme] || THEMES.default;\n\n  // Mock data for demo\n  const mockMessages = [{\n    id: 1,\n    username: 'GhostWhisperer',\n    content: 'Welcome to the ethereal realm!',\n    timestamp: new Date().toISOString(),\n    type: 'message'\n  }, {\n    id: 2,\n    username: 'ShadowWalker',\n    content: 'The spirits are restless tonight...',\n    timestamp: new Date().toISOString(),\n    type: 'message'\n  }, {\n    id: 3,\n    type: 'system',\n    content: 'A new soul has joined the realm...',\n    timestamp: new Date().toISOString()\n  }];\n  const mockUsers = [{\n    username: 'GhostWhisperer',\n    isAdmin: true\n  }, {\n    username: 'ShadowWalker',\n    isSeniorMod: true\n  }, {\n    username: 'EtherealSpirit',\n    isModerator: true\n  }, {\n    username: 'PhantomWanderer'\n  }];\n  const mockRoomSettings = {\n    cooldown: 5,\n    allowLinks: true,\n    allowImages: true,\n    theme: 'default'\n  };\n  useEffect(() => {\n    if (socket) {\n      socket.on('cooldownSet', cooldown => {\n        setCooldown(cooldown);\n      });\n      socket.on('joinCooldownSet', cooldown => {\n        setJoinCooldown(cooldown);\n      });\n      socket.on('callStarted', newCallState => {\n        setCallState(newCallState);\n      });\n      socket.on('callEnded', () => {\n        setCallState(null);\n        setIsInCall(false);\n      });\n      return () => {\n        socket.off('cooldownSet');\n        socket.off('joinCooldownSet');\n        socket.off('callStarted');\n        socket.off('callEnded');\n      };\n    }\n  }, [socket, setCallState]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    if (cooldown > 0) {\n      const timer = setInterval(() => {\n        setCooldown(prev => {\n          if (prev <= 0) {\n            clearInterval(timer);\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [cooldown]);\n  useEffect(() => {\n    if (joinCooldown > 0 && userJoinTime) {\n      const timer = setInterval(() => {\n        const timePassed = Math.floor((Date.now() - userJoinTime) / 1000);\n        const remaining = Math.max(0, joinCooldown - timePassed);\n        if (remaining <= 0) {\n          clearInterval(timer);\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [joinCooldown, userJoinTime]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      sendImage(file);\n    }\n  };\n  const sendMessage = e => {\n    e.preventDefault();\n    if (!message.trim()) return;\n    const isPrivileged = isAdmin || isSeniorMod || isModerator;\n    if (!isPrivileged) {\n      const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\n      if (joinCooldown > 0 && timePassed < joinCooldown) {\n        const remaining = joinCooldown - timePassed;\n        if (setMessages) {\n          setMessages(prev => [...prev, {\n            id: Date.now(),\n            type: 'system',\n            content: `You must wait ${remaining}s before speaking...`,\n            timestamp: new Date().toISOString()\n          }]);\n        }\n        return;\n      }\n      if (cooldown > 0) {\n        if (setMessages) {\n          setMessages(prev => [...prev, {\n            id: Date.now(),\n            type: 'system',\n            content: `You must wait ${cooldown}s before sending another message...`,\n            timestamp: new Date().toISOString()\n          }]);\n        }\n        return;\n      }\n      const containsLink = /https?:\\/\\/[^\\s]+/.test(message);\n      if (!(roomSettings !== null && roomSettings !== void 0 && roomSettings.allowLinks || mockRoomSettings.allowLinks) && containsLink) {\n        if (setMessages) {\n          setMessages(prev => [...prev, {\n            id: Date.now(),\n            type: 'system',\n            content: 'Links are disabled in this realm...',\n            timestamp: new Date().toISOString()\n          }]);\n        }\n        return;\n      }\n    }\n    const messageData = {\n      id: Date.now(),\n      username: username || 'Anonymous',\n      content: message.trim(),\n      timestamp: new Date().toISOString(),\n      type: 'message'\n    };\n    if (socket && encrypt) {\n      const encryptedMessage = encrypt(messageData);\n      socket.emit('message', {\n        roomId,\n        message: encryptedMessage\n      });\n    }\n    setMessage('');\n    setIsTyping(false);\n    if (!isPrivileged) {\n      setCooldown((roomSettings === null || roomSettings === void 0 ? void 0 : roomSettings.cooldown) || mockRoomSettings.cooldown);\n    }\n  };\n  const sendImage = file => {\n    const settings = roomSettings || mockRoomSettings;\n    if (!settings.allowImages && !(isAdmin || isSeniorMod || isModerator)) {\n      if (setMessages) {\n        setMessages(prev => [...prev, {\n          id: Date.now(),\n          type: 'system',\n          content: 'Image sharing is disabled in this realm...',\n          timestamp: new Date().toISOString()\n        }]);\n      }\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = e => {\n      const messageData = {\n        id: Date.now(),\n        username: username || 'Anonymous',\n        content: e.target.result,\n        timestamp: new Date().toISOString(),\n        type: 'image'\n      };\n      if (socket && encrypt) {\n        const encryptedMessage = encrypt(messageData);\n        socket.emit('message', {\n          roomId,\n          message: encryptedMessage\n        });\n      }\n      if (!(isAdmin || isSeniorMod || isModerator)) {\n        setCooldown((roomSettings === null || roomSettings === void 0 ? void 0 : roomSettings.cooldown) || mockRoomSettings.cooldown);\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n  const deleteMessage = messageId => {\n    if (socket) {\n      socket.emit('deleteMessage', {\n        roomId,\n        messageId\n      });\n    }\n  };\n  const copyRoomLink = () => {\n    const link = `${window.location.origin}?room=${roomId}`;\n    navigator.clipboard.writeText(link);\n    if (setMessages) {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        type: 'system',\n        content: 'Room link copied to clipboard!',\n        timestamp: new Date().toISOString()\n      }]);\n    }\n  };\n  const startCall = () => {\n    if (socket) {\n      socket.emit('startCall', {\n        roomId\n      });\n    }\n    setIsInCall(true);\n    setIsCallMinimized(false);\n  };\n  const joinCall = () => {\n    if (socket) {\n      socket.emit('joinCall', {\n        roomId\n      });\n    }\n    setIsInCall(true);\n    setIsCallMinimized(false);\n  };\n  const minimizeCall = () => {\n    setIsCallMinimized(true);\n  };\n  const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\n  const joinCooldownRemaining = Math.max(0, joinCooldown - timePassed);\n  const displayMessages = messages || mockMessages;\n  const displayUsers = users || mockUsers;\n  const displayRoomSettings = roomSettings || mockRoomSettings;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-screen ${currentTheme.bg} flex flex-col transition-all duration-500 overflow-hidden`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${currentTheme.card} border-b ${currentTheme.border} p-6 shadow-2xl backdrop-blur-xl`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Ghost, {\n              className: \"w-10 h-10 text-purple-400 animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-ping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent tracking-tight\",\n              children: roomName || 'Ethereal Realm'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm ${currentTheme.textSecondary} flex items-center space-x-2`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Room ID: \", roomId || 'demo-room']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-green-400 rounded-full animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Online\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-3 shadow-lg`,\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-5 h-5 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-sm font-medium ${currentTheme.textPrimary}`,\n              children: [displayUsers.length, \" souls\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: copyRoomLink,\n            className: `${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,\n            title: \"Copy Room Link\",\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline font-medium\",\n              children: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowQRCode(true),\n            className: `${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,\n            title: \"Share QR Code\",\n            children: [/*#__PURE__*/_jsxDEV(Share2, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline font-medium\",\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), (isAdmin || isSeniorMod) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(true),\n            className: `${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,\n            title: \"Settings\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline font-medium\",\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this), !callState && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startCall,\n            className: `${currentTheme.button} rounded-2xl px-4 py-3 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl`,\n            title: \"Start Call\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline font-medium\",\n              children: \"Start Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this), callState && !isInCall && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: joinCall,\n            className: `${currentTheme.button} rounded-2xl px-4 py-3 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl animate-pulse`,\n            title: \"Join Call\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline font-medium\",\n              children: \"Join Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col relative\",\n        children: isInCall && callState && !isCallMinimized ? /*#__PURE__*/_jsxDEV(CallRoom, {\n          socket: socket,\n          roomId: roomId,\n          username: username,\n          users: displayUsers,\n          callState: callState,\n          onMinimize: minimizeCall\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [isInCall && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${currentTheme.card} m-4 p-4 rounded-2xl flex justify-between items-center shadow-lg border ${currentTheme.border}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-green-400 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Phone, {\n                className: \"w-5 h-5 text-green-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm font-medium ${currentTheme.textPrimary}`,\n                children: [\"In call with \", (callState === null || callState === void 0 ? void 0 : (_callState$participan = callState.participants) === null || _callState$participan === void 0 ? void 0 : _callState$participan.length) || 0, \" spirits\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsCallMinimized(false),\n              className: `text-sm text-purple-400 hover:text-purple-300 font-medium px-3 py-1 rounded-lg ${currentTheme.hover} transition-all duration-300`,\n              children: \"Show call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-thin scrollbar-thumb-purple-600 scrollbar-track-transparent\",\n            children: [displayMessages.map(msg => /*#__PURE__*/_jsxDEV(Message, {\n              message: msg,\n              currentTheme: currentTheme,\n              isAdmin: isAdmin,\n              isSeniorMod: isSeniorMod,\n              isModerator: isModerator,\n              deleteMessage: deleteMessage\n            }, msg.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border-t ${currentTheme.border} p-6 bg-gradient-to-r from-slate-800/50 via-purple-900/20 to-slate-800/50 backdrop-blur-xl`,\n            children: [joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-sm text-purple-400 mb-4 flex items-center justify-center space-x-2 animate-pulse\",\n              children: [/*#__PURE__*/_jsxDEV(Ghost, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"The spirits allow you to speak in \", joinCooldownRemaining, \"s...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mb-4 text-sm text-purple-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-purple-400 rounded-full animate-bounce\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-purple-400 rounded-full animate-bounce\",\n                  style: {\n                    animationDelay: '0.1s'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-purple-400 rounded-full animate-bounce\",\n                  style: {\n                    animationDelay: '0.2s'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Channeling your message...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: sendMessage,\n              className: \"flex space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                onChange: handleFileUpload,\n                accept: \"image/*\",\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                disabled: !displayRoomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator),\n                className: `${currentTheme.buttonSecondary} rounded-2xl p-4 flex items-center disabled:opacity-50 disabled:cursor-not-allowed ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`,\n                title: \"Share Image\",\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: message,\n                  onChange: e => {\n                    setMessage(e.target.value);\n                    setIsTyping(e.target.value.length > 0);\n                  },\n                  onBlur: () => setIsTyping(false),\n                  className: `${currentTheme.input} border rounded-2xl w-full px-6 py-4 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-300 shadow-lg text-lg`,\n                  placeholder: cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) ? `The spirits silence you for ${cooldown}s...` : \"Whisper your secrets to the void...\",\n                  maxLength: 500,\n                  disabled: (cooldown > 0 || joinCooldown > 0 && joinCooldownRemaining > 0) && !(isAdmin || isSeniorMod || isModerator)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-slate-400\",\n                  children: 500 - message.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: !message.trim() || cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) || joinCooldown > 0 && joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator),\n                className: `${currentTheme.button} rounded-2xl p-4 flex items-center disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group`,\n                title: \"Send Message\",\n                children: /*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 17\n            }, this), cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex items-center justify-center space-x-2 text-sm text-purple-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-slate-700 rounded-full h-2 overflow-hidden\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-1000\",\n                  style: {\n                    width: `${(displayRoomSettings.cooldown - cooldown) / displayRoomSettings.cooldown * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"whitespace-nowrap\",\n                children: [cooldown, \"s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserList, {\n        users: displayUsers,\n        isAdmin: isAdmin,\n        isSeniorMod: isSeniorMod,\n        isModerator: isModerator,\n        roomId: roomId,\n        socket: socket,\n        currentTheme: currentTheme,\n        resetState: resetState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SettingsModal, {\n      showSettings: showSettings,\n      setShowSettings: setShowSettings,\n      users: displayUsers,\n      isAdmin: isAdmin,\n      isSeniorMod: isSeniorMod,\n      roomSettings: displayRoomSettings,\n      setRoomSettings: setRoomSettings,\n      socket: socket,\n      roomId: roomId,\n      currentTheme: currentTheme,\n      resetState: resetState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(QRCodeModal, {\n      showQRCode: showQRCode,\n      setShowQRCode: setShowQRCode,\n      roomId: roomId,\n      currentTheme: currentTheme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 pointer-events-none overflow-hidden\",\n      children: [...Array(20)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute w-2 h-2 bg-purple-400/20 rounded-full animate-float\",\n        style: {\n          left: `${Math.random() * 100}%`,\n          top: `${Math.random() * 100}%`,\n          animationDelay: `${Math.random() * 10}s`,\n          animationDuration: `${10 + Math.random() * 20}s`\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px) rotate(0deg);\n            opacity: 0;\n          }\n          50% {\n            transform: translateY(-20px) rotate(180deg);\n            opacity: 1;\n          }\n        }\n        \n        .animate-float {\n          animation: float linear infinite;\n        }\n        \n        .scrollbar-thin::-webkit-scrollbar {\n          width: 6px;\n        }\n        \n        .scrollbar-thin::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .scrollbar-thin::-webkit-scrollbar-thumb {\n          background: rgba(147, 51, 234, 0.3);\n          border-radius: 3px;\n        }\n        \n        .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n          background: rgba(147, 51, 234, 0.5);\n        }\n        \n        .gradient-text {\n          background: linear-gradient(45deg, #8b5cf6, #ec4899);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n        \n        .animate-pulse-slow {\n          animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"//vuPvmm4aolWLhWvJ5nttfCsdI=\");\n_c6 = Chat;\nexport default Chat;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Message\");\n$RefreshReg$(_c2, \"UserList\");\n$RefreshReg$(_c3, \"SettingsModal\");\n$RefreshReg$(_c4, \"QRCodeModal\");\n$RefreshReg$(_c5, \"CallRoom\");\n$RefreshReg$(_c6, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Ghost","Users","Copy","Settings","Phone","PhoneOff","Image","Send","Share2","QrCode","Crown","Shield","Eye","Minimize2","Maximize2","Volume2","VolumeX","jsxDEV","_jsxDEV","Fragment","_Fragment","Message","message","currentTheme","isAdmin","isSeniorMod","isModerator","deleteMessage","_message$username","className","messageBg","border","children","username","fileName","_jsxFileName","lineNumber","columnNumber","textPrimary","textSecondary","Date","timestamp","toLocaleTimeString","content","_c","UserList","users","roomId","socket","resetState","card","length","map","user","index","_user$username","buttonSecondary","hover","_c2","SettingsModal","showSettings","setShowSettings","roomSettings","setRoomSettings","type","value","cooldown","onChange","e","parseInt","target","input","onClick","allowLinks","emit","settings","button","_c3","QRCodeModal","showQRCode","setShowQRCode","_c4","CallRoom","callState","onMinimize","participants","participant","_participant$username","Array","_","i","_c5","THEMES","default","bg","Chat","roomName","messages","setMessages","setUsers","setIsAdmin","setIsSeniorMod","setIsModerator","bannedUsers","setBannedUsers","userJoinTime","setCurrentView","setCallState","encrypt","_s","_callState$participan","setMessage","setCooldown","joinCooldown","setJoinCooldown","isInCall","setIsInCall","isCallMinimized","setIsCallMinimized","isTyping","setIsTyping","messagesEndRef","fileInputRef","theme","mockMessages","id","toISOString","mockUsers","mockRoomSettings","allowImages","on","newCallState","off","scrollToBottom","timer","setInterval","prev","clearInterval","timePassed","Math","floor","now","remaining","max","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileUpload","file","files","sendImage","sendMessage","preventDefault","trim","isPrivileged","containsLink","test","messageData","encryptedMessage","reader","FileReader","onload","result","readAsDataURL","messageId","copyRoomLink","link","window","location","origin","navigator","clipboard","writeText","startCall","joinCall","minimizeCall","joinCooldownRemaining","displayMessages","displayUsers","displayRoomSettings","title","msg","ref","style","animationDelay","onSubmit","accept","_fileInputRef$current","click","disabled","onBlur","placeholder","maxLength","width","left","random","top","animationDuration","jsx","_c6","$RefreshReg$"],"sources":["C:/Users/natol/OneDrive/Desktop/ghostschat/ghostschat-frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Ghost, Users, Copy, Settings, Phone, PhoneOff, Image, Send, Share2, QrCode, Crown, Shield, Eye, Minimize2, Maximize2, Volume2, VolumeX } from 'lucide-react';\r\n\r\n// Mock components for demo\r\nconst Message = ({ message, currentTheme, isAdmin, isSeniorMod, isModerator, deleteMessage }) => (\r\n  <div className={`p-4 rounded-2xl ${currentTheme.messageBg} backdrop-blur-sm border ${currentTheme.border} hover:shadow-lg transition-all duration-300`}>\r\n    <div className=\"flex items-center space-x-2 mb-2\">\r\n      <div className=\"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center\">\r\n        <span className=\"text-white text-sm font-bold\">{message.username?.[0] || 'U'}</span>\r\n      </div>\r\n      <span className={`font-medium ${currentTheme.textPrimary}`}>{message.username || 'Anonymous'}</span>\r\n      <span className={`text-xs ${currentTheme.textSecondary}`}>\r\n        {new Date(message.timestamp).toLocaleTimeString()}\r\n      </span>\r\n    </div>\r\n    <p className={`${currentTheme.textPrimary} leading-relaxed`}>{message.content}</p>\r\n  </div>\r\n);\r\n\r\nconst UserList = ({ users, isAdmin, isSeniorMod, isModerator, roomId, socket, currentTheme, resetState }) => (\r\n  <div className={`w-80 ${currentTheme.card} border-l ${currentTheme.border} p-6 overflow-y-auto`}>\r\n    <h3 className={`text-lg font-bold ${currentTheme.textPrimary} mb-4 flex items-center space-x-2`}>\r\n      <Users className=\"w-5 h-5 text-purple-400\" />\r\n      <span>Spirits ({users.length})</span>\r\n    </h3>\r\n    <div className=\"space-y-3\">\r\n      {users.map((user, index) => (\r\n        <div key={index} className={`p-3 rounded-xl ${currentTheme.buttonSecondary} hover:${currentTheme.hover} transition-all duration-300`}>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center\">\r\n              <span className=\"text-white font-bold\">{user.username?.[0] || 'U'}</span>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className={`font-medium ${currentTheme.textPrimary}`}>{user.username || 'Anonymous'}</span>\r\n                {user.isAdmin && <Crown className=\"w-4 h-4 text-yellow-400\" />}\r\n                {user.isSeniorMod && <Shield className=\"w-4 h-4 text-blue-400\" />}\r\n                {user.isModerator && <Eye className=\"w-4 h-4 text-green-400\" />}\r\n              </div>\r\n              <div className=\"flex items-center space-x-1 mt-1\">\r\n                <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\r\n                <span className={`text-xs ${currentTheme.textSecondary}`}>Online</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst SettingsModal = ({ showSettings, setShowSettings, users, isAdmin, isSeniorMod, roomSettings, setRoomSettings, socket, roomId, currentTheme, resetState }) => {\r\n  if (!showSettings) return null;\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className={`${currentTheme.card} rounded-3xl p-8 max-w-md w-full border ${currentTheme.border} shadow-2xl`}>\r\n        <h2 className={`text-2xl font-bold ${currentTheme.textPrimary} mb-6`}>Realm Settings</h2>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className={`block text-sm font-medium ${currentTheme.textPrimary} mb-2`}>\r\n              Message Cooldown (seconds)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={roomSettings.cooldown}\r\n              onChange={(e) => setRoomSettings({...roomSettings, cooldown: parseInt(e.target.value)})}\r\n              className={`w-full ${currentTheme.input} rounded-xl p-3 border focus:ring-2 focus:ring-purple-500`}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className={`text-sm font-medium ${currentTheme.textPrimary}`}>Allow Links</span>\r\n            <button\r\n              onClick={() => setRoomSettings({...roomSettings, allowLinks: !roomSettings.allowLinks})}\r\n              className={`w-12 h-6 rounded-full transition-colors ${roomSettings.allowLinks ? 'bg-purple-500' : 'bg-gray-600'}`}\r\n            >\r\n              <div className={`w-5 h-5 rounded-full bg-white transition-transform ${roomSettings.allowLinks ? 'translate-x-6' : 'translate-x-0.5'}`}></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex space-x-3 mt-8\">\r\n          <button\r\n            onClick={() => setShowSettings(false)}\r\n            className={`flex-1 ${currentTheme.buttonSecondary} rounded-xl py-3 font-medium transition-all duration-300`}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              socket.emit('updateRoomSettings', { roomId, settings: roomSettings });\r\n              setShowSettings(false);\r\n            }}\r\n            className={`flex-1 ${currentTheme.button} rounded-xl py-3 font-medium transition-all duration-300`}\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst QRCodeModal = ({ showQRCode, setShowQRCode, roomId, currentTheme }) => {\r\n  if (!showQRCode) return null;\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className={`${currentTheme.card} rounded-3xl p-8 max-w-sm w-full border ${currentTheme.border} shadow-2xl text-center`}>\r\n        <h2 className={`text-2xl font-bold ${currentTheme.textPrimary} mb-6`}>Share Realm</h2>\r\n        <div className=\"w-48 h-48 bg-white rounded-2xl mx-auto mb-6 flex items-center justify-center\">\r\n          <QrCode className=\"w-32 h-32 text-gray-400\" />\r\n        </div>\r\n        <p className={`text-sm ${currentTheme.textSecondary} mb-6`}>\r\n          Scan this QR code to join the realm\r\n        </p>\r\n        <button\r\n          onClick={() => setShowQRCode(false)}\r\n          className={`w-full ${currentTheme.button} rounded-xl py-3 font-medium transition-all duration-300`}\r\n        >\r\n          Close\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CallRoom = ({ socket, roomId, username, users, callState, onMinimize }) => (\r\n  <div className=\"flex-1 bg-gradient-to-br from-purple-900/20 to-pink-900/20 p-6 flex flex-col\">\r\n    <div className=\"flex items-center justify-between mb-6\">\r\n      <h2 className=\"text-2xl font-bold text-white\">Voice Call</h2>\r\n      <button\r\n        onClick={onMinimize}\r\n        className=\"p-2 bg-white/10 rounded-xl hover:bg-white/20 transition-colors\"\r\n      >\r\n        <Minimize2 className=\"w-5 h-5 text-white\" />\r\n      </button>\r\n    </div>\r\n    <div className=\"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n      {callState.participants.map((participant, index) => (\r\n        <div key={index} className=\"bg-black/30 rounded-2xl p-4 flex flex-col items-center justify-center\">\r\n          <div className=\"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-3\">\r\n            <span className=\"text-white text-xl font-bold\">{participant.username?.[0] || 'U'}</span>\r\n          </div>\r\n          <span className=\"text-white font-medium\">{participant.username}</span>\r\n          <div className=\"flex items-center space-x-2 mt-2\">\r\n            <Volume2 className=\"w-4 h-4 text-green-400\" />\r\n            <div className=\"flex space-x-1\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <div key={i} className=\"w-1 h-3 bg-green-400 rounded-full animate-pulse\"></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n    <div className=\"flex items-center justify-center space-x-4 mt-6\">\r\n      <button className=\"p-4 bg-green-500 rounded-full hover:bg-green-600 transition-colors\">\r\n        <Volume2 className=\"w-6 h-6 text-white\" />\r\n      </button>\r\n      <button className=\"p-4 bg-red-500 rounded-full hover:bg-red-600 transition-colors\">\r\n        <PhoneOff className=\"w-6 h-6 text-white\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst THEMES = {\r\n  default: {\r\n    bg: 'bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900',\r\n    card: 'bg-slate-800/50 backdrop-blur-md',\r\n    messageBg: 'bg-slate-800/30',\r\n    button: 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white',\r\n    buttonSecondary: 'bg-slate-700/50 hover:bg-slate-700 text-slate-200',\r\n    input: 'bg-slate-800/50 border-slate-600 text-slate-100 placeholder-slate-400',\r\n    textPrimary: 'text-slate-100',\r\n    textSecondary: 'text-slate-400',\r\n    border: 'border-slate-700',\r\n    hover: 'hover:bg-slate-700/50'\r\n  }\r\n};\r\n\r\nconst Chat = ({\r\n  socket,\r\n  username,\r\n  roomId,\r\n  roomName,\r\n  messages,\r\n  setMessages,\r\n  users,\r\n  setUsers,\r\n  isAdmin,\r\n  setIsAdmin,\r\n  isSeniorMod,\r\n  setIsSeniorMod,\r\n  isModerator,\r\n  setIsModerator,\r\n  roomSettings,\r\n  setRoomSettings,\r\n  bannedUsers,\r\n  setBannedUsers,\r\n  userJoinTime,\r\n  setCurrentView,\r\n  callState,\r\n  setCallState,\r\n  encrypt,\r\n  resetState\r\n}) => {\r\n  const [message, setMessage] = useState('');\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [showQRCode, setShowQRCode] = useState(false);\r\n  const [cooldown, setCooldown] = useState(0);\r\n  const [joinCooldown, setJoinCooldown] = useState(0);\r\n  const [isInCall, setIsInCall] = useState(false);\r\n  const [isCallMinimized, setIsCallMinimized] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const currentTheme = THEMES[roomSettings?.theme] || THEMES.default;\r\n\r\n  // Mock data for demo\r\n  const mockMessages = [\r\n    { id: 1, username: 'GhostWhisperer', content: 'Welcome to the ethereal realm!', timestamp: new Date().toISOString(), type: 'message' },\r\n    { id: 2, username: 'ShadowWalker', content: 'The spirits are restless tonight...', timestamp: new Date().toISOString(), type: 'message' },\r\n    { id: 3, type: 'system', content: 'A new soul has joined the realm...', timestamp: new Date().toISOString() }\r\n  ];\r\n\r\n  const mockUsers = [\r\n    { username: 'GhostWhisperer', isAdmin: true },\r\n    { username: 'ShadowWalker', isSeniorMod: true },\r\n    { username: 'EtherealSpirit', isModerator: true },\r\n    { username: 'PhantomWanderer' }\r\n  ];\r\n\r\n  const mockRoomSettings = {\r\n    cooldown: 5,\r\n    allowLinks: true,\r\n    allowImages: true,\r\n    theme: 'default'\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on('cooldownSet', (cooldown) => {\r\n        setCooldown(cooldown);\r\n      });\r\n\r\n      socket.on('joinCooldownSet', (cooldown) => {\r\n        setJoinCooldown(cooldown);\r\n      });\r\n\r\n      socket.on('callStarted', (newCallState) => {\r\n        setCallState(newCallState);\r\n      });\r\n\r\n      socket.on('callEnded', () => {\r\n        setCallState(null);\r\n        setIsInCall(false);\r\n      });\r\n\r\n      return () => {\r\n        socket.off('cooldownSet');\r\n        socket.off('joinCooldownSet');\r\n        socket.off('callStarted');\r\n        socket.off('callEnded');\r\n      };\r\n    }\r\n  }, [socket, setCallState]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (cooldown > 0) {\r\n      const timer = setInterval(() => {\r\n        setCooldown(prev => {\r\n          if (prev <= 0) {\r\n            clearInterval(timer);\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [cooldown]);\r\n\r\n  useEffect(() => {\r\n    if (joinCooldown > 0 && userJoinTime) {\r\n      const timer = setInterval(() => {\r\n        const timePassed = Math.floor((Date.now() - userJoinTime) / 1000);\r\n        const remaining = Math.max(0, joinCooldown - timePassed);\r\n        if (remaining <= 0) {\r\n          clearInterval(timer);\r\n        }\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [joinCooldown, userJoinTime]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      sendImage(file);\r\n    }\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!message.trim()) return;\r\n    \r\n    const isPrivileged = isAdmin || isSeniorMod || isModerator;\r\n    \r\n    if (!isPrivileged) {\r\n      const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\r\n      if (joinCooldown > 0 && timePassed < joinCooldown) {\r\n        const remaining = joinCooldown - timePassed;\r\n        if (setMessages) {\r\n          setMessages(prev => [...prev, {\r\n            id: Date.now(),\r\n            type: 'system',\r\n            content: `You must wait ${remaining}s before speaking...`,\r\n            timestamp: new Date().toISOString()\r\n          }]);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (cooldown > 0) {\r\n        if (setMessages) {\r\n          setMessages(prev => [...prev, {\r\n            id: Date.now(),\r\n            type: 'system',\r\n            content: `You must wait ${cooldown}s before sending another message...`,\r\n            timestamp: new Date().toISOString()\r\n          }]);\r\n        }\r\n        return;\r\n      }\r\n\r\n      const containsLink = /https?:\\/\\/[^\\s]+/.test(message);\r\n      if (!(roomSettings?.allowLinks || mockRoomSettings.allowLinks) && containsLink) {\r\n        if (setMessages) {\r\n          setMessages(prev => [...prev, {\r\n            id: Date.now(),\r\n            type: 'system',\r\n            content: 'Links are disabled in this realm...',\r\n            timestamp: new Date().toISOString()\r\n          }]);\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    const messageData = {\r\n      id: Date.now(),\r\n      username: username || 'Anonymous',\r\n      content: message.trim(),\r\n      timestamp: new Date().toISOString(),\r\n      type: 'message'\r\n    };\r\n\r\n    if (socket && encrypt) {\r\n      const encryptedMessage = encrypt(messageData);\r\n      socket.emit('message', { roomId, message: encryptedMessage });\r\n    }\r\n    \r\n    setMessage('');\r\n    setIsTyping(false);\r\n    if (!isPrivileged) {\r\n      setCooldown(roomSettings?.cooldown || mockRoomSettings.cooldown);\r\n    }\r\n  };\r\n\r\n  const sendImage = (file) => {\r\n    const settings = roomSettings || mockRoomSettings;\r\n    if (!settings.allowImages && !(isAdmin || isSeniorMod || isModerator)) {\r\n      if (setMessages) {\r\n        setMessages(prev => [...prev, {\r\n          id: Date.now(),\r\n          type: 'system',\r\n          content: 'Image sharing is disabled in this realm...',\r\n          timestamp: new Date().toISOString()\r\n        }]);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const messageData = {\r\n        id: Date.now(),\r\n        username: username || 'Anonymous',\r\n        content: e.target.result,\r\n        timestamp: new Date().toISOString(),\r\n        type: 'image'\r\n      };\r\n\r\n      if (socket && encrypt) {\r\n        const encryptedMessage = encrypt(messageData);\r\n        socket.emit('message', { roomId, message: encryptedMessage });\r\n      }\r\n      \r\n      if (!(isAdmin || isSeniorMod || isModerator)) {\r\n        setCooldown(roomSettings?.cooldown || mockRoomSettings.cooldown);\r\n      }\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const deleteMessage = (messageId) => {\r\n    if (socket) {\r\n      socket.emit('deleteMessage', { roomId, messageId });\r\n    }\r\n  };\r\n\r\n  const copyRoomLink = () => {\r\n    const link = `${window.location.origin}?room=${roomId}`;\r\n    navigator.clipboard.writeText(link);\r\n    if (setMessages) {\r\n      setMessages(prev => [...prev, {\r\n        id: Date.now(),\r\n        type: 'system',\r\n        content: 'Room link copied to clipboard!',\r\n        timestamp: new Date().toISOString()\r\n      }]);\r\n    }\r\n  };\r\n\r\n  const startCall = () => {\r\n    if (socket) {\r\n      socket.emit('startCall', { roomId });\r\n    }\r\n    setIsInCall(true);\r\n    setIsCallMinimized(false);\r\n  };\r\n\r\n  const joinCall = () => {\r\n    if (socket) {\r\n      socket.emit('joinCall', { roomId });\r\n    }\r\n    setIsInCall(true);\r\n    setIsCallMinimized(false);\r\n  };\r\n\r\n  const minimizeCall = () => {\r\n    setIsCallMinimized(true);\r\n  };\r\n\r\n  const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\r\n  const joinCooldownRemaining = Math.max(0, joinCooldown - timePassed);\r\n\r\n  const displayMessages = messages || mockMessages;\r\n  const displayUsers = users || mockUsers;\r\n  const displayRoomSettings = roomSettings || mockRoomSettings;\r\n\r\n  return (\r\n    <div className={`h-screen ${currentTheme.bg} flex flex-col transition-all duration-500 overflow-hidden`}>\r\n      {/* Enhanced Header with Glassmorphism */}\r\n      <div className={`${currentTheme.card} border-b ${currentTheme.border} p-6 shadow-2xl backdrop-blur-xl`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"relative\">\r\n              <Ghost className=\"w-10 h-10 text-purple-400 animate-pulse\" />\r\n              <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-ping\"></div>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent tracking-tight\">\r\n                {roomName || 'Ethereal Realm'}\r\n              </h1>\r\n              <p className={`text-sm ${currentTheme.textSecondary} flex items-center space-x-2`}>\r\n                <span>Room ID: {roomId || 'demo-room'}</span>\r\n                <span></span>\r\n                <span className=\"flex items-center space-x-1\">\r\n                  <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\r\n                  <span>Online</span>\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className={`${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-3 shadow-lg`}>\r\n              <Users className=\"w-5 h-5 text-purple-400\" />\r\n              <span className={`text-sm font-medium ${currentTheme.textPrimary}`}>{displayUsers.length} souls</span>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={copyRoomLink}\r\n              className={`${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`}\r\n              title=\"Copy Room Link\"\r\n            >\r\n              <Copy className=\"w-5 h-5\" />\r\n              <span className=\"hidden sm:inline font-medium\">Copy</span>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setShowQRCode(true)}\r\n              className={`${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`}\r\n              title=\"Share QR Code\"\r\n            >\r\n              <Share2 className=\"w-5 h-5\" />\r\n              <span className=\"hidden sm:inline font-medium\">Share</span>\r\n            </button>\r\n            \r\n            {(isAdmin || isSeniorMod) && (\r\n              <button\r\n                onClick={() => setShowSettings(true)}\r\n                className={`${currentTheme.buttonSecondary} rounded-2xl px-4 py-3 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`}\r\n                title=\"Settings\"\r\n              >\r\n                <Settings className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline font-medium\">Settings</span>\r\n              </button>\r\n            )}\r\n\r\n            {!callState && (\r\n              <button\r\n                onClick={startCall}\r\n                className={`${currentTheme.button} rounded-2xl px-4 py-3 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl`}\r\n                title=\"Start Call\"\r\n              >\r\n                <Phone className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline font-medium\">Start Call</span>\r\n              </button>\r\n            )}\r\n\r\n            {callState && !isInCall && (\r\n              <button\r\n                onClick={joinCall}\r\n                className={`${currentTheme.button} rounded-2xl px-4 py-3 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl animate-pulse`}\r\n                title=\"Join Call\"\r\n              >\r\n                <Phone className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline font-medium\">Join Call</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex overflow-hidden\">\r\n        {/* Messages or Call Room */}\r\n        <div className=\"flex-1 flex flex-col relative\">\r\n          {isInCall && callState && !isCallMinimized ? (\r\n            <CallRoom\r\n              socket={socket}\r\n              roomId={roomId}\r\n              username={username}\r\n              users={displayUsers}\r\n              callState={callState}\r\n              onMinimize={minimizeCall}\r\n            />\r\n          ) : (\r\n            <>\r\n              {isInCall && (\r\n                <div className={`${currentTheme.card} m-4 p-4 rounded-2xl flex justify-between items-center shadow-lg border ${currentTheme.border}`}>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-3 h-3 bg-green-400 rounded-full animate-pulse\"></div>\r\n                    <Phone className=\"w-5 h-5 text-green-400\" />\r\n                    <span className={`text-sm font-medium ${currentTheme.textPrimary}`}>\r\n                      In call with {callState?.participants?.length || 0} spirits\r\n                    </span>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => setIsCallMinimized(false)}\r\n                    className={`text-sm text-purple-400 hover:text-purple-300 font-medium px-3 py-1 rounded-lg ${currentTheme.hover} transition-all duration-300`}\r\n                  >\r\n                    Show call\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Enhanced Messages Area */}\r\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-thin scrollbar-thumb-purple-600 scrollbar-track-transparent\">\r\n                {displayMessages.map((msg) => (\r\n                  <Message\r\n                    key={msg.id}\r\n                    message={msg}\r\n                    currentTheme={currentTheme}\r\n                    isAdmin={isAdmin}\r\n                    isSeniorMod={isSeniorMod}\r\n                    isModerator={isModerator}\r\n                    deleteMessage={deleteMessage}\r\n                  />\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n              \r\n              {/* Enhanced Message Input */}\r\n              <div className={`border-t ${currentTheme.border} p-6 bg-gradient-to-r from-slate-800/50 via-purple-900/20 to-slate-800/50 backdrop-blur-xl`}>\r\n                {joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator) && (\r\n                  <div className=\"text-center text-sm text-purple-400 mb-4 flex items-center justify-center space-x-2 animate-pulse\">\r\n                    <Ghost className=\"w-4 h-4\" />\r\n                    <span>The spirits allow you to speak in {joinCooldownRemaining}s...</span>\r\n                  </div>\r\n                )}\r\n                \r\n                {isTyping && (\r\n                  <div className=\"flex items-center space-x-2 mb-4 text-sm text-purple-400\">\r\n                    <div className=\"flex space-x-1\">\r\n                      <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce\"></div>\r\n                      <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\r\n                      <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\r\n                    </div>\r\n                    <span>Channeling your message...</span>\r\n                  </div>\r\n                )}\r\n                \r\n                <form onSubmit={sendMessage} className=\"flex space-x-4\">\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFileUpload}\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                  />\r\n                  \r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={!displayRoomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator)}\r\n                    className={`${currentTheme.buttonSecondary} rounded-2xl p-4 flex items-center disabled:opacity-50 disabled:cursor-not-allowed ${currentTheme.hover} transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105`}\r\n                    title=\"Share Image\"\r\n                  >\r\n                    <Image className=\"w-5 h-5\" />\r\n                  </button>\r\n                  \r\n                  <div className=\"flex-1 relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={message}\r\n                      onChange={(e) => {\r\n                        setMessage(e.target.value);\r\n                        setIsTyping(e.target.value.length > 0);\r\n                      }}\r\n                      onBlur={() => setIsTyping(false)}\r\n                      className={`${currentTheme.input} border rounded-2xl w-full px-6 py-4 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-300 shadow-lg text-lg`}\r\n                      placeholder={\r\n                        cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) \r\n                          ? `The spirits silence you for ${cooldown}s...` \r\n                          : \"Whisper your secrets to the void...\"\r\n                      }\r\n                      maxLength={500}\r\n                      disabled={\r\n                        (cooldown > 0 || \r\n                        (joinCooldown > 0 && joinCooldownRemaining > 0)) && \r\n                        !(isAdmin || isSeniorMod || isModerator)\r\n                      }\r\n                    />\r\n                    {message && (\r\n                      <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-slate-400\">\r\n                        {500 - message.length}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={\r\n                      !message.trim() || \r\n                      (cooldown > 0 && !(isAdmin || isSeniorMod || isModerator)) || \r\n                      (joinCooldown > 0 && joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator))\r\n                    }\r\n                    className={`${currentTheme.button} rounded-2xl p-4 flex items-center disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group`}\r\n                    title=\"Send Message\"\r\n                  >\r\n                    <Send className=\"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300\" />\r\n                  </button>\r\n                </form>\r\n                \r\n                {/* Cooldown indicator */}\r\n                {cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) && (\r\n                  <div className=\"mt-4 flex items-center justify-center space-x-2 text-sm text-purple-400\">\r\n                    <div className=\"w-full bg-slate-700 rounded-full h-2 overflow-hidden\">\r\n                      <div \r\n                        className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-1000\"\r\n                        style={{ width: `${((displayRoomSettings.cooldown - cooldown) / displayRoomSettings.cooldown) * 100}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className=\"whitespace-nowrap\">{cooldown}s</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Enhanced User List */}\r\n        <UserList\r\n          users={displayUsers}\r\n          isAdmin={isAdmin}\r\n          isSeniorMod={isSeniorMod}\r\n          isModerator={isModerator}\r\n          roomId={roomId}\r\n          socket={socket}\r\n          currentTheme={currentTheme}\r\n          resetState={resetState}\r\n        />\r\n      </div>\r\n\r\n      {/* Enhanced Modals */}\r\n      <SettingsModal\r\n        showSettings={showSettings}\r\n        setShowSettings={setShowSettings}\r\n        users={displayUsers}\r\n        isAdmin={isAdmin}\r\n        isSeniorMod={isSeniorMod}\r\n        roomSettings={displayRoomSettings}\r\n        setRoomSettings={setRoomSettings}\r\n        socket={socket}\r\n        roomId={roomId}\r\n        currentTheme={currentTheme}\r\n        resetState={resetState}\r\n      />\r\n\r\n      <QRCodeModal\r\n        showQRCode={showQRCode}\r\n        setShowQRCode={setShowQRCode}\r\n        roomId={roomId}\r\n        currentTheme={currentTheme}\r\n      />\r\n\r\n      {/* Floating particles effect */}\r\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\r\n        {[...Array(20)].map((_, i) => (\r\n          <div\r\n            key={i}\r\n            className=\"absolute w-2 h-2 bg-purple-400/20 rounded-full animate-float\"\r\n            style={{\r\n              left: `${Math.random() * 100}%`,\r\n              top: `${Math.random() * 100}%`,\r\n              animationDelay: `${Math.random() * 10}s`,\r\n              animationDuration: `${10 + Math.random() * 20}s`\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Custom styles for animations */}\r\n      <style jsx>{`\r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0px) rotate(0deg);\r\n            opacity: 0;\r\n          }\r\n          50% {\r\n            transform: translateY(-20px) rotate(180deg);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        \r\n        .animate-float {\r\n          animation: float linear infinite;\r\n        }\r\n        \r\n        .scrollbar-thin::-webkit-scrollbar {\r\n          width: 6px;\r\n        }\r\n        \r\n        .scrollbar-thin::-webkit-scrollbar-track {\r\n          background: transparent;\r\n        }\r\n        \r\n        .scrollbar-thin::-webkit-scrollbar-thumb {\r\n          background: rgba(147, 51, 234, 0.3);\r\n          border-radius: 3px;\r\n        }\r\n        \r\n        .scrollbar-thin::-webkit-scrollbar-thumb:hover {\r\n          background: rgba(147, 51, 234, 0.5);\r\n        }\r\n        \r\n        .gradient-text {\r\n          background: linear-gradient(45deg, #8b5cf6, #ec4899);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n        \r\n        .animate-pulse-slow {\r\n          animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}