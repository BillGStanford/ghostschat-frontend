{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natol\\\\OneDrive\\\\Desktop\\\\ghostschat\\\\ghostschat-frontend\\\\src\\\\pages\\\\Chat.js\",\n  _s = $RefreshSig$();\n// src/pages/Chat.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Ghost, Users, Copy, Settings, Phone, PhoneOff } from 'lucide-react';\nimport Message from '../components/Message';\nimport UserList from '../components/UserList';\nimport SettingsModal from '../components/SettingsModal';\nimport QRCodeModal from '../components/QRCodeModal';\nimport CallRoom from '../components/CallRoom';\nimport { THEMES } from '../constants';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chat = ({\n  socket,\n  username,\n  roomId,\n  roomName,\n  messages,\n  setMessages,\n  users,\n  setUsers,\n  isAdmin,\n  setIsAdmin,\n  isSeniorMod,\n  setIsSeniorMod,\n  isModerator,\n  setIsModerator,\n  roomSettings,\n  setRoomSettings,\n  bannedUsers,\n  setBannedUsers,\n  userJoinTime,\n  setCurrentView,\n  callState,\n  setCallState,\n  encrypt,\n  resetState\n}) => {\n  _s();\n  const [message, setMessage] = useState('');\n  const [showSettings, setShowSettings] = useState(false);\n  const [showQRCode, setShowQRCode] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  const [joinCooldown, setJoinCooldown] = useState(0);\n  const [isInCall, setIsInCall] = useState(false);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const currentTheme = THEMES[roomSettings.theme] || THEMES.default;\n  useEffect(() => {\n    socket.on('cooldownSet', cooldown => {\n      setCooldown(cooldown);\n    });\n    socket.on('joinCooldownSet', cooldown => {\n      setJoinCooldown(cooldown);\n    });\n    return () => {\n      socket.off('cooldownSet');\n      socket.off('joinCooldownSet');\n    };\n  }, [socket]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    if (cooldown > 0) {\n      const timer = setInterval(() => {\n        setCooldown(prev => {\n          if (prev <= 0) {\n            clearInterval(timer);\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [cooldown]);\n  useEffect(() => {\n    if (joinCooldown > 0 && userJoinTime) {\n      const timer = setInterval(() => {\n        const timePassed = Math.floor((Date.now() - userJoinTime) / 1000);\n        const remaining = Math.max(0, joinCooldown - timePassed);\n        if (remaining <= 0) {\n          clearInterval(timer);\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [joinCooldown, userJoinTime]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const sendMessage = e => {\n    e.preventDefault();\n    if (!message.trim()) return;\n    const isPrivileged = isAdmin || isSeniorMod || isModerator;\n    if (!isPrivileged) {\n      const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\n      if (joinCooldown > 0 && timePassed < joinCooldown) {\n        const remaining = joinCooldown - timePassed;\n        setMessages(prev => [...prev, {\n          id: Date.now(),\n          type: 'system',\n          content: `You must wait ${remaining}s before speaking...`,\n          timestamp: new Date().toISOString()\n        }]);\n        return;\n      }\n      if (cooldown > 0) {\n        setMessages(prev => [...prev, {\n          id: Date.now(),\n          type: 'system',\n          content: `You must wait ${cooldown}s before sending another message...`,\n          timestamp: new Date().toISOString()\n        }]);\n        return;\n      }\n      const containsLink = /https?:\\/\\/[^\\s]+/.test(message);\n      if (!roomSettings.allowLinks && containsLink) {\n        setMessages(prev => [...prev, {\n          id: Date.now(),\n          type: 'system',\n          content: 'Links are disabled in this realm...',\n          timestamp: new Date().toISOString()\n        }]);\n        return;\n      }\n    }\n    const messageData = {\n      id: Date.now(),\n      username,\n      content: message.trim(),\n      timestamp: new Date().toISOString(),\n      type: 'message'\n    };\n    const encryptedMessage = encrypt(messageData);\n    socket.emit('message', {\n      roomId,\n      message: encryptedMessage\n    });\n    setMessage('');\n    if (!isPrivileged) {\n      setCooldown(roomSettings.cooldown);\n    }\n  };\n  const sendImage = file => {\n    if (!roomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator)) {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        type: 'system',\n        content: 'Image sharing is disabled in this realm...',\n        timestamp: new Date().toISOString()\n      }]);\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = e => {\n      const messageData = {\n        id: Date.now(),\n        username,\n        content: e.target.result,\n        timestamp: new Date().toISOString(),\n        type: 'image'\n      };\n      const encryptedMessage = encrypt(messageData);\n      socket.emit('message', {\n        roomId,\n        message: encryptedMessage\n      });\n      if (!(isAdmin || isSeniorMod || isModerator)) {\n        setCooldown(roomSettings.cooldown);\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n  const deleteMessage = messageId => {\n    socket.emit('deleteMessage', {\n      roomId,\n      messageId\n    });\n  };\n  const copyRoomLink = () => {\n    const link = `${window.location.origin}?room=${roomId}`;\n    navigator.clipboard.writeText(link);\n    setMessages(prev => [...prev, {\n      id: Date.now(),\n      type: 'system',\n      content: 'Room link copied to clipboard!',\n      timestamp: new Date().toISOString()\n    }]);\n  };\n  const startCall = () => {\n    socket.emit('startCall', {\n      roomId\n    });\n    setIsInCall(true);\n  };\n  const joinCall = () => {\n    socket.emit('joinCall', {\n      roomId\n    });\n    setIsInCall(true);\n  };\n  const leaveCall = () => {\n    socket.emit('leaveCall', {\n      roomId\n    });\n    setIsInCall(false);\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      sendImage(file);\n    }\n  };\n  const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\n  const joinCooldownRemaining = Math.max(0, joinCooldown - timePassed);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-screen ${currentTheme.bg} flex flex-col transition-all duration-500`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${currentTheme.card} border-b ${currentTheme.border} p-4 shadow-md`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Ghost, {\n            className: \"w-8 h-8 text-purple-400 animate-pulse-slow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-bold gradient-text tracking-tight\",\n              children: roomName || 'Unnamed Realm'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xs ${currentTheme.textSecondary}`,\n              children: [\"Room ID: \", roomId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2`,\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-5 h-5 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-sm ${currentTheme.textPrimary}`,\n              children: users.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: copyRoomLink,\n            className: `${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`,\n            title: \"Copy Room Link\",\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowQRCode(true),\n            className: `${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`,\n            title: \"Share QR Code\",\n            children: [/*#__PURE__*/_jsxDEV(Ghost, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), (isAdmin || isSeniorMod) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(true),\n            className: `${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`,\n            title: \"Settings\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), !callState && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startCall,\n            className: `${currentTheme.button} rounded-xl px-3 py-2 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300`,\n            title: \"Start Call\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Start Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), callState && !isInCall && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: joinCall,\n            className: `${currentTheme.button} rounded-xl px-3 py-2 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300`,\n            title: \"Join Call\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Join Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), isInCall && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: leaveCall,\n            className: `${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`,\n            title: \"Leave Call\",\n            children: [/*#__PURE__*/_jsxDEV(PhoneOff, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Leave Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: isInCall && callState ? /*#__PURE__*/_jsxDEV(CallRoom, {\n          socket: socket,\n          roomId: roomId,\n          username: username,\n          users: users,\n          callState: callState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-ghost-600 scrollbar-track-ghost-800\",\n            children: [messages.map(msg => /*#__PURE__*/_jsxDEV(Message, {\n              message: msg,\n              currentTheme: currentTheme,\n              isAdmin: isAdmin,\n              isSeniorMod: isSeniorMod,\n              isModerator: isModerator,\n              deleteMessage: deleteMessage\n            }, msg.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border-t ${currentTheme.border} p-4 bg-ghost-800/50 backdrop-blur-md`,\n            children: [joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-sm text-purple-400 mb-2 flex items-center justify-center space-x-1 animate-pulse\",\n              children: [/*#__PURE__*/_jsxDEV(Ghost, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"You can speak in \", joinCooldownRemaining, \"s...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: sendMessage,\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                onChange: handleFileUpload,\n                accept: \"image/*\",\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                disabled: !roomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator),\n                className: `${currentTheme.buttonSecondary} rounded-xl p-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed ${currentTheme.hover} transition-all duration-300`,\n                children: /*#__PURE__*/_jsxDEV(Ghost, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: message,\n                onChange: e => setMessage(e.target.value),\n                className: `${currentTheme.input} border rounded-xl flex-1 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-300`,\n                placeholder: cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) ? `Wait ${cooldown}s...` : \"Whisper your secrets...\",\n                maxLength: 500,\n                disabled: (cooldown > 0 || joinCooldown > 0 && joinCooldownRemaining > 0) && !(isAdmin || isSeniorMod || isModerator)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: !message.trim() || cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) || joinCooldown > 0 && joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator),\n                className: `${currentTheme.button} rounded-xl p-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-300`,\n                children: /*#__PURE__*/_jsxDEV(Ghost, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserList, {\n        users: users,\n        isAdmin: isAdmin,\n        isSeniorMod: isSeniorMod,\n        isModerator: isModerator,\n        roomId: roomId,\n        socket: socket,\n        currentTheme: currentTheme,\n        resetState: resetState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SettingsModal, {\n      showSettings: showSettings,\n      setShowSettings: setShowSettings,\n      users: users,\n      isAdmin: isAdmin,\n      isSeniorMod: isSeniorMod,\n      roomSettings: roomSettings,\n      setRoomSettings: setRoomSettings,\n      socket: socket,\n      roomId: roomId,\n      currentTheme: currentTheme,\n      resetState: resetState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(QRCodeModal, {\n      showQRCode: showQRCode,\n      setShowQRCode: setShowQRCode,\n      roomId: roomId,\n      currentTheme: currentTheme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"StDT18nRJ9rfptkVX/9EDi3EWaw=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Ghost","Users","Copy","Settings","Phone","PhoneOff","Message","UserList","SettingsModal","QRCodeModal","CallRoom","THEMES","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","socket","username","roomId","roomName","messages","setMessages","users","setUsers","isAdmin","setIsAdmin","isSeniorMod","setIsSeniorMod","isModerator","setIsModerator","roomSettings","setRoomSettings","bannedUsers","setBannedUsers","userJoinTime","setCurrentView","callState","setCallState","encrypt","resetState","_s","message","setMessage","showSettings","setShowSettings","showQRCode","setShowQRCode","cooldown","setCooldown","joinCooldown","setJoinCooldown","isInCall","setIsInCall","messagesEndRef","fileInputRef","currentTheme","theme","default","on","off","scrollToBottom","timer","setInterval","prev","clearInterval","timePassed","Math","floor","Date","now","remaining","max","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","isPrivileged","id","type","content","timestamp","toISOString","containsLink","test","allowLinks","messageData","encryptedMessage","emit","sendImage","file","allowImages","reader","FileReader","onload","target","result","readAsDataURL","deleteMessage","messageId","copyRoomLink","link","window","location","origin","navigator","clipboard","writeText","startCall","joinCall","leaveCall","handleFileUpload","files","startsWith","joinCooldownRemaining","className","bg","children","card","border","fileName","_jsxFileName","lineNumber","columnNumber","textSecondary","buttonSecondary","textPrimary","length","onClick","hover","title","button","map","msg","ref","onSubmit","onChange","accept","_fileInputRef$current","click","disabled","value","input","placeholder","maxLength","_c","$RefreshReg$"],"sources":["C:/Users/natol/OneDrive/Desktop/ghostschat/ghostschat-frontend/src/pages/Chat.js"],"sourcesContent":["// src/pages/Chat.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Ghost, Users, Copy, Settings, Phone, PhoneOff } from 'lucide-react';\r\nimport Message from '../components/Message';\r\nimport UserList from '../components/UserList';\r\nimport SettingsModal from '../components/SettingsModal';\r\nimport QRCodeModal from '../components/QRCodeModal';\r\nimport CallRoom from '../components/CallRoom';\r\nimport { THEMES } from '../constants';\r\n\r\nconst Chat = ({\r\n  socket,\r\n  username,\r\n  roomId,\r\n  roomName,\r\n  messages,\r\n  setMessages,\r\n  users,\r\n  setUsers,\r\n  isAdmin,\r\n  setIsAdmin,\r\n  isSeniorMod,\r\n  setIsSeniorMod,\r\n  isModerator,\r\n  setIsModerator,\r\n  roomSettings,\r\n  setRoomSettings,\r\n  bannedUsers,\r\n  setBannedUsers,\r\n  userJoinTime,\r\n  setCurrentView,\r\n  callState,\r\n  setCallState,\r\n  encrypt,\r\n  resetState\r\n}) => {\r\n  const [message, setMessage] = useState('');\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [showQRCode, setShowQRCode] = useState(false);\r\n  const [cooldown, setCooldown] = useState(0);\r\n  const [joinCooldown, setJoinCooldown] = useState(0);\r\n  const [isInCall, setIsInCall] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const currentTheme = THEMES[roomSettings.theme] || THEMES.default;\r\n\r\n  useEffect(() => {\r\n    socket.on('cooldownSet', (cooldown) => {\r\n      setCooldown(cooldown);\r\n    });\r\n\r\n    socket.on('joinCooldownSet', (cooldown) => {\r\n      setJoinCooldown(cooldown);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('cooldownSet');\r\n      socket.off('joinCooldownSet');\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (cooldown > 0) {\r\n      const timer = setInterval(() => {\r\n        setCooldown(prev => {\r\n          if (prev <= 0) {\r\n            clearInterval(timer);\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [cooldown]);\r\n\r\n  useEffect(() => {\r\n    if (joinCooldown > 0 && userJoinTime) {\r\n      const timer = setInterval(() => {\r\n        const timePassed = Math.floor((Date.now() - userJoinTime) / 1000);\r\n        const remaining = Math.max(0, joinCooldown - timePassed);\r\n        if (remaining <= 0) {\r\n          clearInterval(timer);\r\n        }\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [joinCooldown, userJoinTime]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!message.trim()) return;\r\n    \r\n    const isPrivileged = isAdmin || isSeniorMod || isModerator;\r\n    \r\n    if (!isPrivileged) {\r\n      const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\r\n      if (joinCooldown > 0 && timePassed < joinCooldown) {\r\n        const remaining = joinCooldown - timePassed;\r\n        setMessages(prev => [...prev, {\r\n          id: Date.now(),\r\n          type: 'system',\r\n          content: `You must wait ${remaining}s before speaking...`,\r\n          timestamp: new Date().toISOString()\r\n        }]);\r\n        return;\r\n      }\r\n\r\n      if (cooldown > 0) {\r\n        setMessages(prev => [...prev, {\r\n          id: Date.now(),\r\n          type: 'system',\r\n          content: `You must wait ${cooldown}s before sending another message...`,\r\n          timestamp: new Date().toISOString()\r\n        }]);\r\n        return;\r\n      }\r\n\r\n      const containsLink = /https?:\\/\\/[^\\s]+/.test(message);\r\n      if (!roomSettings.allowLinks && containsLink) {\r\n        setMessages(prev => [...prev, {\r\n          id: Date.now(),\r\n          type: 'system',\r\n          content: 'Links are disabled in this realm...',\r\n          timestamp: new Date().toISOString()\r\n        }]);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const messageData = {\r\n      id: Date.now(),\r\n      username,\r\n      content: message.trim(),\r\n      timestamp: new Date().toISOString(),\r\n      type: 'message'\r\n    };\r\n\r\n    const encryptedMessage = encrypt(messageData);\r\n    socket.emit('message', { roomId, message: encryptedMessage });\r\n    setMessage('');\r\n    if (!isPrivileged) {\r\n      setCooldown(roomSettings.cooldown);\r\n    }\r\n  };\r\n\r\n  const sendImage = (file) => {\r\n    if (!roomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator)) {\r\n      setMessages(prev => [...prev, {\r\n        id: Date.now(),\r\n        type: 'system',\r\n        content: 'Image sharing is disabled in this realm...',\r\n        timestamp: new Date().toISOString()\r\n      }]);\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const messageData = {\r\n        id: Date.now(),\r\n        username,\r\n        content: e.target.result,\r\n        timestamp: new Date().toISOString(),\r\n        type: 'image'\r\n      };\r\n\r\n      const encryptedMessage = encrypt(messageData);\r\n      socket.emit('message', { roomId, message: encryptedMessage });\r\n      if (!(isAdmin || isSeniorMod || isModerator)) {\r\n        setCooldown(roomSettings.cooldown);\r\n      }\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const deleteMessage = (messageId) => {\r\n    socket.emit('deleteMessage', { roomId, messageId });\r\n  };\r\n\r\n  const copyRoomLink = () => {\r\n    const link = `${window.location.origin}?room=${roomId}`;\r\n    navigator.clipboard.writeText(link);\r\n    setMessages(prev => [...prev, {\r\n      id: Date.now(),\r\n      type: 'system',\r\n      content: 'Room link copied to clipboard!',\r\n      timestamp: new Date().toISOString()\r\n    }]);\r\n  };\r\n\r\n  const startCall = () => {\r\n    socket.emit('startCall', { roomId });\r\n    setIsInCall(true);\r\n  };\r\n\r\n  const joinCall = () => {\r\n    socket.emit('joinCall', { roomId });\r\n    setIsInCall(true);\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    socket.emit('leaveCall', { roomId });\r\n    setIsInCall(false);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith('image/')) {\r\n      sendImage(file);\r\n    }\r\n  };\r\n\r\n  const timePassed = userJoinTime ? Math.floor((Date.now() - userJoinTime) / 1000) : 0;\r\n  const joinCooldownRemaining = Math.max(0, joinCooldown - timePassed);\r\n\r\n  return (\r\n    <div className={`h-screen ${currentTheme.bg} flex flex-col transition-all duration-500`}>\r\n      {/* Header */}\r\n      <div className={`${currentTheme.card} border-b ${currentTheme.border} p-4 shadow-md`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Ghost className=\"w-8 h-8 text-purple-400 animate-pulse-slow\" />\r\n            <div>\r\n              <h1 className=\"text-xl font-bold gradient-text tracking-tight\">{roomName || 'Unnamed Realm'}</h1>\r\n              <p className={`text-xs ${currentTheme.textSecondary}`}>Room ID: {roomId}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className={`${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2`}>\r\n              <Users className=\"w-5 h-5 text-purple-400\" />\r\n              <span className={`text-sm ${currentTheme.textPrimary}`}>{users.length}</span>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={copyRoomLink}\r\n              className={`${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`}\r\n              title=\"Copy Room Link\"\r\n            >\r\n              <Copy className=\"w-5 h-5\" />\r\n              <span className=\"hidden sm:inline\">Copy</span>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setShowQRCode(true)}\r\n              className={`${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`}\r\n              title=\"Share QR Code\"\r\n            >\r\n              <Ghost className=\"w-5 h-5\" />\r\n              <span className=\"hidden sm:inline\">Share</span>\r\n            </button>\r\n            \r\n            {(isAdmin || isSeniorMod) && (\r\n              <button\r\n                onClick={() => setShowSettings(true)}\r\n                className={`${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`}\r\n                title=\"Settings\"\r\n              >\r\n                <Settings className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline\">Settings</span>\r\n              </button>\r\n            )}\r\n\r\n            {!callState && (\r\n              <button\r\n                onClick={startCall}\r\n                className={`${currentTheme.button} rounded-xl px-3 py-2 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300`}\r\n                title=\"Start Call\"\r\n              >\r\n                <Phone className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline\">Start Call</span>\r\n              </button>\r\n            )}\r\n\r\n            {callState && !isInCall && (\r\n              <button\r\n                onClick={joinCall}\r\n                className={`${currentTheme.button} rounded-xl px-3 py-2 flex items-center space-x-2 transform hover:scale-105 transition-all duration-300`}\r\n                title=\"Join Call\"\r\n              >\r\n                <Phone className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline\">Join Call</span>\r\n              </button>\r\n            )}\r\n\r\n            {isInCall && (\r\n              <button\r\n                onClick={leaveCall}\r\n                className={`${currentTheme.buttonSecondary} rounded-xl px-3 py-2 flex items-center space-x-2 ${currentTheme.hover} transition-all duration-300`}\r\n                title=\"Leave Call\"\r\n              >\r\n                <PhoneOff className=\"w-5 h-5\" />\r\n                <span className=\"hidden sm:inline\">Leave Call</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex overflow-hidden\">\r\n        {/* Messages or Call Room */}\r\n        <div className=\"flex-1 flex flex-col\">\r\n          {isInCall && callState ? (\r\n            <CallRoom\r\n              socket={socket}\r\n              roomId={roomId}\r\n              username={username}\r\n              users={users}\r\n              callState={callState}\r\n            />\r\n          ) : (\r\n            <>\r\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-ghost-600 scrollbar-track-ghost-800\">\r\n                {messages.map((msg) => (\r\n                  <Message\r\n                    key={msg.id}\r\n                    message={msg}\r\n                    currentTheme={currentTheme}\r\n                    isAdmin={isAdmin}\r\n                    isSeniorMod={isSeniorMod}\r\n                    isModerator={isModerator}\r\n                    deleteMessage={deleteMessage}\r\n                  />\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n              \r\n              {/* Message Input */}\r\n              <div className={`border-t ${currentTheme.border} p-4 bg-ghost-800/50 backdrop-blur-md`}>\r\n                {joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator) && (\r\n                  <div className=\"text-center text-sm text-purple-400 mb-2 flex items-center justify-center space-x-1 animate-pulse\">\r\n                    <Ghost className=\"w-4 h-4\" />\r\n                    <span>You can speak in {joinCooldownRemaining}s...</span>\r\n                  </div>\r\n                )}\r\n                <form onSubmit={sendMessage} className=\"flex space-x-2\">\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFileUpload}\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                  />\r\n                  \r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={!roomSettings.allowImages && !(isAdmin || isSeniorMod || isModerator)}\r\n                    className={`${currentTheme.buttonSecondary} rounded-xl p-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed ${currentTheme.hover} transition-all duration-300`}\r\n                  >\r\n                    <Ghost className=\"w-5 h-5\" />\r\n                  </button>\r\n                  \r\n                  <input\r\n                    type=\"text\"\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    className={`${currentTheme.input} border rounded-xl flex-1 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-300`}\r\n                    placeholder={\r\n                      cooldown > 0 && !(isAdmin || isSeniorMod || isModerator) \r\n                        ? `Wait ${cooldown}s...` \r\n                        : \"Whisper your secrets...\"\r\n                    }\r\n                    maxLength={500}\r\n                    disabled={\r\n                      (cooldown > 0 || \r\n                      (joinCooldown > 0 && joinCooldownRemaining > 0)) && \r\n                      !(isAdmin || isSeniorMod || isModerator)\r\n                    }\r\n                  />\r\n                  \r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={\r\n                      !message.trim() || \r\n                      (cooldown > 0 && !(isAdmin || isSeniorMod || isModerator)) || \r\n                      (joinCooldown > 0 && joinCooldownRemaining > 0 && !(isAdmin || isSeniorMod || isModerator))\r\n                    }\r\n                    className={`${currentTheme.button} rounded-xl p-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-300`}\r\n                  >\r\n                    <Ghost className=\"w-5 h-5\" />\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        \r\n        <UserList\r\n          users={users}\r\n          isAdmin={isAdmin}\r\n          isSeniorMod={isSeniorMod}\r\n          isModerator={isModerator}\r\n          roomId={roomId}\r\n          socket={socket}\r\n          currentTheme={currentTheme}\r\n          resetState={resetState}\r\n        />\r\n      </div>\r\n\r\n      <SettingsModal\r\n        showSettings={showSettings}\r\n        setShowSettings={setShowSettings}\r\n        users={users}\r\n        isAdmin={isAdmin}\r\n        isSeniorMod={isSeniorMod}\r\n        roomSettings={roomSettings}\r\n        setRoomSettings={setRoomSettings}\r\n        socket={socket}\r\n        roomId={roomId}\r\n        currentTheme={currentTheme}\r\n        resetState={resetState}\r\n      />\r\n\r\n      <QRCodeModal\r\n        showQRCode={showQRCode}\r\n        setShowQRCode={setShowQRCode}\r\n        roomId={roomId}\r\n        currentTheme={currentTheme}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}