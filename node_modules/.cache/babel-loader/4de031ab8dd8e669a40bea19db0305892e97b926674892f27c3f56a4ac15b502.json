{"ast":null,"code":"// src/components/Message.js\nimport React from'react';import{Ghost,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Message=_ref=>{let{message,currentTheme,isAdmin,isSeniorMod,isModerator,deleteMessage}=_ref;const formatTime=timestamp=>{return new Date(timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const renderLink=text=>{const urlRegex=/(https?:\\/\\/[^\\s]+)/g;return text.split(urlRegex).map((part,i)=>{if(part.match(urlRegex)){return/*#__PURE__*/_jsx(\"a\",{href:part,target:\"_blank\",rel:\"noopener noreferrer\",className:`${currentTheme.accent} ${currentTheme.hover} underline transition-colors duration-200`,children:part},i);}return part;});};if(message.type==='system'){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center my-2\",children:/*#__PURE__*/_jsx(\"span\",{className:`${currentTheme.textSecondary} text-sm italic ${currentTheme.card} px-4 py-2 rounded-full shadow-md animate-slide-up`,children:message.content})});}if(message.type==='image'){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2 animate-slide-up group relative\",children:[(isAdmin||isSeniorMod||isModerator)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteMessage(message.id),className:\"absolute -right-2 -top-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-glow\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Ghost,{className:\"w-5 h-5 text-purple-400 animate-pulse-slow\"}),/*#__PURE__*/_jsx(\"span\",{className:`${currentTheme.textPrimary} text-sm font-semibold`,children:message.username}),/*#__PURE__*/_jsx(\"span\",{className:`${currentTheme.textSecondary} text-xs`,children:formatTime(message.timestamp)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-8\",children:/*#__PURE__*/_jsx(\"img\",{src:message.content,alt:\"Shared image\",className:\"max-w-xs max-h-64 rounded-xl border ${currentTheme.border} shadow-md\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2 animate-slide-up group relative\",children:[(isAdmin||isSeniorMod||isModerator)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteMessage(message.id),className:\"absolute -right-2 -top-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-glow\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Ghost,{className:\"w-5 h-5 text-purple-400 animate-pulse-slow\"}),/*#__PURE__*/_jsx(\"span\",{className:`${currentTheme.textPrimary} text-sm font-semibold`,children:message.username}),/*#__PURE__*/_jsx(\"span\",{className:`${currentTheme.textSecondary} text-xs`,children:formatTime(message.timestamp)})]}),/*#__PURE__*/_jsx(\"div\",{className:`ml-8 ${currentTheme.textPrimary} break-words text-sm`,children:renderLink(message.content)})]});};export default Message;","map":{"version":3,"names":["React","Ghost","X","jsx","_jsx","jsxs","_jsxs","Message","_ref","message","currentTheme","isAdmin","isSeniorMod","isModerator","deleteMessage","formatTime","timestamp","Date","toLocaleTimeString","hour","minute","renderLink","text","urlRegex","split","map","part","i","match","href","target","rel","className","accent","hover","children","type","textSecondary","card","content","onClick","id","textPrimary","username","src","alt"],"sources":["C:/Users/natol/OneDrive/Desktop/ghostschat/ghostschat-frontend/src/components/Message.js"],"sourcesContent":["// src/components/Message.js\r\nimport React from 'react';\r\nimport { Ghost, X } from 'lucide-react';\r\n\r\nconst Message = ({ message, currentTheme, isAdmin, isSeniorMod, isModerator, deleteMessage }) => {\r\n  const formatTime = (timestamp) => {\r\n    return new Date(timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const renderLink = (text) => {\r\n    const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\r\n    return text.split(urlRegex).map((part, i) => {\r\n      if (part.match(urlRegex)) {\r\n        return (\r\n          <a \r\n            key={i} \r\n            href={part} \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\"\r\n            className={`${currentTheme.accent} ${currentTheme.hover} underline transition-colors duration-200`}\r\n          >\r\n            {part}\r\n          </a>\r\n        );\r\n      }\r\n      return part;\r\n    });\r\n  };\r\n\r\n  if (message.type === 'system') {\r\n    return (\r\n      <div className=\"flex justify-center my-2\">\r\n        <span className={`${currentTheme.textSecondary} text-sm italic ${currentTheme.card} px-4 py-2 rounded-full shadow-md animate-slide-up`}>\r\n          {message.content}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (message.type === 'image') {\r\n    return (\r\n      <div className=\"flex flex-col space-y-2 animate-slide-up group relative\">\r\n        {(isAdmin || isSeniorMod || isModerator) && (\r\n          <button\r\n            onClick={() => deleteMessage(message.id)}\r\n            className=\"absolute -right-2 -top-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-glow\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        )}\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Ghost className=\"w-5 h-5 text-purple-400 animate-pulse-slow\" />\r\n          <span className={`${currentTheme.textPrimary} text-sm font-semibold`}>{message.username}</span>\r\n          <span className={`${currentTheme.textSecondary} text-xs`}>{formatTime(message.timestamp)}</span>\r\n        </div>\r\n        <div className=\"ml-8\">\r\n          <img \r\n            src={message.content} \r\n            alt=\"Shared image\" \r\n            className=\"max-w-xs max-h-64 rounded-xl border ${currentTheme.border} shadow-md\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col space-y-2 animate-slide-up group relative\">\r\n      {(isAdmin || isSeniorMod || isModerator) && (\r\n        <button\r\n          onClick={() => deleteMessage(message.id)}\r\n          className=\"absolute -right-2 -top-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-glow\"\r\n        >\r\n          <X className=\"w-4 h-4\" />\r\n        </button>\r\n      )}\r\n      <div className=\"flex items-center space-x-2\">\r\n        <Ghost className=\"w-5 h-5 text-purple-400 animate-pulse-slow\" />\r\n        <span className={`${currentTheme.textPrimary} text-sm font-semibold`}>{message.username}</span>\r\n        <span className={`${currentTheme.textSecondary} text-xs`}>{formatTime(message.timestamp)}</span>\r\n      </div>\r\n      <div className={`ml-8 ${currentTheme.textPrimary} break-words text-sm`}>\r\n        {renderLink(message.content)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}