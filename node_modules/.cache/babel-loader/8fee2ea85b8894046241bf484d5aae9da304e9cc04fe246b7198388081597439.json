{"ast":null,"code":"// src/components/UserList.js\nimport React,{useState}from'react';import{Ghost,Users,Crown,Gavel,Shield,UserX,Ban,Eye,EyeOff}from'lucide-react';import{ENCRYPTION_KEY}from'../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserList=_ref=>{let{users,isAdmin,isSeniorMod,isModerator,roomId,socket,currentTheme,resetState}=_ref;const[encryptionVisible,setEncryptionVisible]=useState(false);const kickUser=userId=>{const userToKick=users.find(u=>u.id===userId);if(userToKick){socket.emit('kickUser',{roomId,userId,kickedUsername:userToKick.username});}};const banUser=userId=>{const userToBan=users.find(u=>u.id===userId);if(userToBan){socket.emit('banUser',{roomId,userId,bannedUsername:userToBan.username});}};const leaveRoom=()=>{var _users$find;socket.emit('leaveRoom',{roomId,username:(_users$find=users.find(u=>u.id===socket.id))===null||_users$find===void 0?void 0:_users$find.username});resetState();};return/*#__PURE__*/_jsx(\"div\",{className:`w-72 ${currentTheme.card} border-l ${currentTheme.border} p-4 overflow-y-auto scrollbar-thin scrollbar-thumb-ghost-600 scrollbar-track-ghost-800`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5 text-purple-400 animate-pulse-slow\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold ${currentTheme.textPrimary} text-sm`,children:[\"Spirits Present (\",users.length,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:`${currentTheme.buttonSecondary} rounded-xl p-3 flex items-center justify-between transform hover:scale-105 transition-all duration-200`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Ghost,{className:\"w-5 h-5 text-purple-400\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-sm ${currentTheme.textPrimary}`,children:user.username}),user.isAdmin&&/*#__PURE__*/_jsx(Crown,{className:\"w-4 h-4 text-yellow-400\"}),user.isSeniorMod&&/*#__PURE__*/_jsx(Gavel,{className:\"w-4 h-4 text-blue-400\"}),user.isModerator&&!user.isSeniorMod&&/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 text-green-400\"})]}),(isAdmin||isSeniorMod&&!user.isAdmin&&!user.isSeniorMod)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>kickUser(user.id),className:`text-red-400 ${currentTheme.hover} transition-colors duration-200`,title:\"Kick User\",children:/*#__PURE__*/_jsx(UserX,{className:\"w-5 h-5\"})}),(isAdmin||isSeniorMod)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>banUser(user.id),className:`text-red-600 ${currentTheme.hover} transition-colors duration-200`,title:\"Ban User\",children:/*#__PURE__*/_jsx(Ban,{className:\"w-5 h-5\"})})]})]},user.id))}),/*#__PURE__*/_jsxs(\"div\",{className:`pt-4 border-t ${currentTheme.border}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-ghost-400 text-xs\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"End-to-end Encrypted\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEncryptionVisible(!encryptionVisible),className:`${currentTheme.hover} ml-auto`,children:encryptionVisible?/*#__PURE__*/_jsx(EyeOff,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})})]}),encryptionVisible&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-2 p-3 ${currentTheme.card} rounded-xl text-xs ${currentTheme.textSecondary} font-mono break-all shadow-md`,children:[\"Key: \",ENCRYPTION_KEY.substring(0,10),\"...\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:leaveRoom,className:`${currentTheme.buttonSecondary} w-full mt-4 rounded-xl px-4 py-3 flex items-center justify-center space-x-2 ${currentTheme.hover} transform hover:scale-105 transition-all duration-300`,children:[/*#__PURE__*/_jsx(Ghost,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Fade from Realm\"})]})]})});};export default UserList;","map":{"version":3,"names":["React","useState","Ghost","Users","Crown","Gavel","Shield","UserX","Ban","Eye","EyeOff","ENCRYPTION_KEY","jsx","_jsx","jsxs","_jsxs","UserList","_ref","users","isAdmin","isSeniorMod","isModerator","roomId","socket","currentTheme","resetState","encryptionVisible","setEncryptionVisible","kickUser","userId","userToKick","find","u","id","emit","kickedUsername","username","banUser","userToBan","bannedUsername","leaveRoom","_users$find","className","card","border","children","textPrimary","length","map","user","buttonSecondary","onClick","hover","title","textSecondary","substring"],"sources":["C:/Users/natol/OneDrive/Desktop/ghostschat/ghostschat-frontend/src/components/UserList.js"],"sourcesContent":["// src/components/UserList.js\r\nimport React, { useState } from 'react';\r\nimport { Ghost, Users, Crown, Gavel, Shield, UserX, Ban, Eye, EyeOff } from 'lucide-react';\r\nimport { ENCRYPTION_KEY } from '../constants';\r\n\r\nconst UserList = ({ users, isAdmin, isSeniorMod, isModerator, roomId, socket, currentTheme, resetState }) => {\r\n  const [encryptionVisible, setEncryptionVisible] = useState(false);\r\n\r\n  const kickUser = (userId) => {\r\n    const userToKick = users.find(u => u.id === userId);\r\n    if (userToKick) {\r\n      socket.emit('kickUser', { roomId, userId, kickedUsername: userToKick.username });\r\n    }\r\n  };\r\n\r\n  const banUser = (userId) => {\r\n    const userToBan = users.find(u => u.id === userId);\r\n    if (userToBan) {\r\n      socket.emit('banUser', { roomId, userId, bannedUsername: userToBan.username });\r\n    }\r\n  };\r\n\r\n  const leaveRoom = () => {\r\n    socket.emit('leaveRoom', { roomId, username: users.find(u => u.id === socket.id)?.username });\r\n    resetState();\r\n  };\r\n\r\n  return (\r\n    <div className={`w-72 ${currentTheme.card} border-l ${currentTheme.border} p-4 overflow-y-auto scrollbar-thin scrollbar-thumb-ghost-600 scrollbar-track-ghost-800`}>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Users className=\"w-5 h-5 text-purple-400 animate-pulse-slow\" />\r\n          <span className={`font-semibold ${currentTheme.textPrimary} text-sm`}>Spirits Present ({users.length})</span>\r\n        </div>\r\n        \r\n        <div className=\"space-y-2\">\r\n          {users.map((user) => (\r\n            <div key={user.id} className={`${currentTheme.buttonSecondary} rounded-xl p-3 flex items-center justify-between transform hover:scale-105 transition-all duration-200`}>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Ghost className=\"w-5 h-5 text-purple-400\" />\r\n                <span className={`text-sm ${currentTheme.textPrimary}`}>{user.username}</span>\r\n                {user.isAdmin && <Crown className=\"w-4 h-4 text-yellow-400\" />}\r\n                {user.isSeniorMod && <Gavel className=\"w-4 h-4 text-blue-400\" />}\r\n                {user.isModerator && !user.isSeniorMod && <Shield className=\"w-4 h-4 text-green-400\" />}\r\n              </div>\r\n              \r\n              {(isAdmin || (isSeniorMod && !user.isAdmin && !user.isSeniorMod)) && (\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={() => kickUser(user.id)}\r\n                    className={`text-red-400 ${currentTheme.hover} transition-colors duration-200`}\r\n                    title=\"Kick User\"\r\n                  >\r\n                    <UserX className=\"w-5 h-5\" />\r\n                  </button>\r\n                  {(isAdmin || isSeniorMod) && (\r\n                    <button\r\n                      onClick={() => banUser(user.id)}\r\n                      className={`text-red-600 ${currentTheme.hover} transition-colors duration-200`}\r\n                      title=\"Ban User\"\r\n                    >\r\n                      <Ban className=\"w-5 h-5\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className={`pt-4 border-t ${currentTheme.border}`}>\r\n          <div className=\"flex items-center space-x-2 text-ghost-400 text-xs\">\r\n            <Shield className=\"w-4 h-4\" />\r\n            <span>End-to-end Encrypted</span>\r\n            <button\r\n              onClick={() => setEncryptionVisible(!encryptionVisible)}\r\n              className={`${currentTheme.hover} ml-auto`}\r\n            >\r\n              {encryptionVisible ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n            </button>\r\n          </div>\r\n          \r\n          {encryptionVisible && (\r\n            <div className={`mt-2 p-3 ${currentTheme.card} rounded-xl text-xs ${currentTheme.textSecondary} font-mono break-all shadow-md`}>\r\n              Key: {ENCRYPTION_KEY.substring(0, 10)}...\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={leaveRoom}\r\n          className={`${currentTheme.buttonSecondary} w-full mt-4 rounded-xl px-4 py-3 flex items-center justify-center space-x-2 ${currentTheme.hover} transform hover:scale-105 transition-all duration-300`}\r\n        >\r\n          <Ghost className=\"w-5 h-5\" />\r\n          <span>Fade from Realm</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}